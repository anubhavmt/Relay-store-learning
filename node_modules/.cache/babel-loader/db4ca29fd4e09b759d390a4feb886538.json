{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/anubhavgupta/Documents/react_learning/graphql-react/relay-store-learning/node_modules/@babel/runtime/regenerator/index.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = urlMiddleware;\n\nvar _utils = require(\"../utils\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction urlMiddleware(opts) {\n  var _ref = opts || {},\n      url = _ref.url,\n      headers = _ref.headers,\n      _ref$method = _ref.method,\n      method = _ref$method === void 0 ? 'POST' : _ref$method,\n      credentials = _ref.credentials,\n      mode = _ref.mode,\n      cache = _ref.cache,\n      redirect = _ref.redirect;\n\n  var urlOrThunk = url || '/graphql';\n  var headersOrThunk = headers;\n  return function (next) {\n    return /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(req) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0, _utils.isFunction)(urlOrThunk) ? urlOrThunk(req) : urlOrThunk;\n\n              case 2:\n                req.fetchOpts.url = _context.sent;\n\n                if (!headersOrThunk) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 6;\n                return (0, _utils.isFunction)(headersOrThunk) ? headersOrThunk(req) : headersOrThunk;\n\n              case 6:\n                req.fetchOpts.headers = _context.sent;\n\n              case 7:\n                if (method) req.fetchOpts.method = method;\n                if (credentials) req.fetchOpts.credentials = credentials;\n                if (mode) req.fetchOpts.mode = mode;\n                if (cache) req.fetchOpts.cache = cache;\n                if (redirect) req.fetchOpts.redirect = redirect;\n                return _context.abrupt(\"return\", next(req));\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","urlMiddleware","_utils","require","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","opts","_ref","url","headers","_ref$method","method","credentials","mode","cache","redirect","urlOrThunk","headersOrThunk","next","_ref2","mark","_callee","req","wrap","_callee$","_context","prev","isFunction","fetchOpts","sent","abrupt","stop","_x"],"sources":["/Users/anubhavgupta/Documents/react_learning/graphql-react/relay-store-learning/node_modules/react-relay-network-modern/lib/middlewares/url.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = urlMiddleware;\n\nvar _utils = require(\"../utils\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction urlMiddleware(opts) {\n  var _ref = opts || {},\n      url = _ref.url,\n      headers = _ref.headers,\n      _ref$method = _ref.method,\n      method = _ref$method === void 0 ? 'POST' : _ref$method,\n      credentials = _ref.credentials,\n      mode = _ref.mode,\n      cache = _ref.cache,\n      redirect = _ref.redirect;\n\n  var urlOrThunk = url || '/graphql';\n  var headersOrThunk = headers;\n  return function (next) {\n    return /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0, _utils.isFunction)(urlOrThunk) ? urlOrThunk(req) : urlOrThunk;\n\n              case 2:\n                req.fetchOpts.url = _context.sent;\n\n                if (!headersOrThunk) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 6;\n                return (0, _utils.isFunction)(headersOrThunk) ? headersOrThunk(req) : headersOrThunk;\n\n              case 6:\n                req.fetchOpts.headers = _context.sent;\n\n              case 7:\n                if (method) req.fetchOpts.method = method;\n                if (credentials) req.fetchOpts.credentials = credentials;\n                if (mode) req.fetchOpts.mode = mode;\n                if (cache) req.fetchOpts.cache = cache;\n                if (redirect) req.fetchOpts.redirect = redirect;\n                return _context.abrupt(\"return\", next(req));\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}