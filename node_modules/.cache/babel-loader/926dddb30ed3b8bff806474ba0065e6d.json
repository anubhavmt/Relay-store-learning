{"ast":null,"code":"import { Environment, Network, RecordSource, Store, DefaultHandlerProvider } from \"relay-runtime\";\nconst url = \"http://localhost:4444/\";\n\nfunction fetchQuery(operation, variables) {\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      query: operation.text,\n      variables\n    })\n  }).then(response => {\n    return response.json();\n  });\n}\n\nfunction handlerProviderHelper(handlerProvider) {\n  return handle => {\n    const Provider = handlerProvider(handle);\n\n    if (Provider) {\n      return Provider;\n    } else {\n      return DefaultHandlerProvider(handle);\n    }\n  };\n}\n\nconst environment = new Environment({\n  handlerProvider: handlerProviderHelper(DefaultHandlerProvider),\n  network: Network.create(fetchQuery),\n  store: new Store(new RecordSource())\n});\nexport default environment;","map":{"version":3,"names":["Environment","Network","RecordSource","Store","DefaultHandlerProvider","url","fetchQuery","operation","variables","fetch","method","headers","body","JSON","stringify","query","text","then","response","json","handlerProviderHelper","handlerProvider","handle","Provider","environment","network","create","store"],"sources":["/Users/anubhavgupta/Documents/react_learning/graphql-react/relay-store-learning/src/RelayEnvironment.ts"],"sourcesContent":["import {\n  Environment,\n  Network,\n  RecordSource,\n  RequestParameters,\n  Store,\n  Variables,\n  DefaultHandlerProvider\n} from \"relay-runtime\";\nimport { HandlerProvider } from \"relay-runtime/lib/handlers/RelayDefaultHandlerProvider\";\nconst url = \"http://localhost:4444/\";\n\nfunction fetchQuery(operation: RequestParameters, variables: Variables) {\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: operation.text,\n      variables,\n    }),\n  }).then((response) => {\n    return response.json();\n  });\n}\n\n\nfunction handlerProviderHelper(handlerProvider: HandlerProvider) {\n  return (handle: string) => {\n    const Provider = handlerProvider(handle);\n    if (Provider) {\n      return Provider;\n    } else {\n      return DefaultHandlerProvider(handle);\n    }\n  };\n}\n\n\nconst environment = new Environment({\n  handlerProvider: handlerProviderHelper(DefaultHandlerProvider),\n  network: Network.create(fetchQuery),\n  store: new Store(new RecordSource()),\n});\n\nexport default environment;\n"],"mappings":"AAAA,SACEA,WADF,EAEEC,OAFF,EAGEC,YAHF,EAKEC,KALF,EAOEC,sBAPF,QAQO,eARP;AAUA,MAAMC,GAAG,GAAG,wBAAZ;;AAEA,SAASC,UAAT,CAAoBC,SAApB,EAAkDC,SAAlD,EAAwE;EACtE,OAAOC,KAAK,CAACJ,GAAD,EAAM;IAChBK,MAAM,EAAE,MADQ;IAEhBC,OAAO,EAAE;MACP,gBAAgB;IADT,CAFO;IAKhBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MACnBC,KAAK,EAAER,SAAS,CAACS,IADE;MAEnBR;IAFmB,CAAf;EALU,CAAN,CAAL,CASJS,IATI,CASEC,QAAD,IAAc;IACpB,OAAOA,QAAQ,CAACC,IAAT,EAAP;EACD,CAXM,CAAP;AAYD;;AAGD,SAASC,qBAAT,CAA+BC,eAA/B,EAAiE;EAC/D,OAAQC,MAAD,IAAoB;IACzB,MAAMC,QAAQ,GAAGF,eAAe,CAACC,MAAD,CAAhC;;IACA,IAAIC,QAAJ,EAAc;MACZ,OAAOA,QAAP;IACD,CAFD,MAEO;MACL,OAAOnB,sBAAsB,CAACkB,MAAD,CAA7B;IACD;EACF,CAPD;AAQD;;AAGD,MAAME,WAAW,GAAG,IAAIxB,WAAJ,CAAgB;EAClCqB,eAAe,EAAED,qBAAqB,CAAChB,sBAAD,CADJ;EAElCqB,OAAO,EAAExB,OAAO,CAACyB,MAAR,CAAepB,UAAf,CAFyB;EAGlCqB,KAAK,EAAE,IAAIxB,KAAJ,CAAU,IAAID,YAAJ,EAAV;AAH2B,CAAhB,CAApB;AAMA,eAAesB,WAAf"},"metadata":{},"sourceType":"module"}