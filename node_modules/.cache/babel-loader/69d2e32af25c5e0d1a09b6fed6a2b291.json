{"ast":null,"code":"var _ApprootQuery,\n    _ApprootAddBookQuery,\n    _jsxFileName = \"/Users/anubhavgupta/Documents/react_learning/graphql-react/relay-learning/src/Approot.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport App from \"./App\";\nimport { useLazyLoadQuery, useMutation } from \"react-relay\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst appquery = _ApprootQuery !== void 0 ? _ApprootQuery : (_ApprootQuery = require(\"./__generated__/ApprootQuery.graphql\"), _ApprootQuery.hash && _ApprootQuery.hash !== \"864bcf0eacbb5308b3ee89bb00f1fab1\" && console.error(\"The definition of 'ApprootQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\"), _ApprootQuery);\nconst appMutatequery = _ApprootAddBookQuery !== void 0 ? _ApprootAddBookQuery : (_ApprootAddBookQuery = require(\"./__generated__/ApprootAddBookQuery.graphql\"), _ApprootAddBookQuery.hash && _ApprootAddBookQuery.hash !== \"eb7b9d81ad8f63ba516e551936327d03\" && console.error(\"The definition of 'ApprootAddBookQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\"), _ApprootAddBookQuery);\n\nfunction Approot() {\n  _s();\n\n  const [commitMutation, isInFlight] = useMutation(appMutatequery);\n  const data = useLazyLoadQuery(appquery, {});\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(React.Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading.....\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 31\n    }, this),\n    children: [/*#__PURE__*/_jsxDEV(App, {\n      books: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        let sampeBook = {\n          title: e.target[0].value,\n          author: {\n            firstname: e.target[1].value,\n            secondname: e.target[2].value\n          }\n        };\n        let update = {\n          book: sampeBook\n        };\n        const optimisticResponse = {\n          sampeBook\n        };\n        commitMutation({\n          variables: update,\n          onCompleted: (response, errors) => {\n            console.log(response);\n            console.log(\"Response received from server.\");\n          },\n          onError: err => console.error(err),\n          optimisticResponse\n        });\n      },\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fname\",\n        children: \"Book title:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"fname\",\n        placeholder: \"Type Book title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 72\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fname\",\n        children: \"Author FirstName:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"fname\",\n        placeholder: \"type author first name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fname\",\n        children: \"Author LastName:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"fname\",\n        placeholder: \"Type author lastname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Approot, \"fIOEd5pYLyrfJVb27QPw37ZqXns=\", false, function () {\n  return [useMutation, useLazyLoadQuery];\n});\n\n_c = Approot;\nexport default Approot;\n\nvar _c;\n\n$RefreshReg$(_c, \"Approot\");","map":{"version":3,"names":["React","App","useLazyLoadQuery","useMutation","appquery","appMutatequery","Approot","commitMutation","isInFlight","data","console","log","e","preventDefault","sampeBook","title","target","value","author","firstname","secondname","update","book","optimisticResponse","variables","onCompleted","response","errors","onError","err","error"],"sources":["/Users/anubhavgupta/Documents/react_learning/graphql-react/relay-learning/src/Approot.tsx"],"sourcesContent":["import React from \"react\";\nimport App from \"./App\";\nimport { graphql } from \"babel-plugin-relay/macro\";\nimport { useLazyLoadQuery, useMutation } from \"react-relay\";\nimport Author from \"./Author\";\nimport { ApprootQuery } from \"./__generated__/ApprootQuery.graphql\";\nimport { bookInput } from \"./__generated__/AppAddBookQuery.graphql\";\nimport { ApprootAddBookQuery } from \"./__generated__/ApprootAddBookQuery.graphql\";\nimport { ApprootAddBookQuery$variables } from \"./__generated__/ApprootAddBookQuery.graphql\";\nimport environment from \"./RelayEnvironment\";\n\nconst appquery = graphql`\n  # Queries in graphql tags must start with the module name ('App') and end with 'Query'. Got 'allbook' instead.\n  query ApprootQuery {\n    ...App_detail\n  }\n`;\n\nconst appMutatequery = graphql`\n  # Queries in graphql tags must start with the module name ('App') and end with 'Query'. Got 'allbook' instead.\n  mutation ApprootAddBookQuery($book: bookInput!) {\n    addBook(book: $book) {\n      title\n      author {\n        ...Author_detail\n      }\n      # title\n    }\n  }\n`;\n\nfunction Approot() {\n  const [commitMutation, isInFlight] =\n    useMutation<ApprootAddBookQuery>(appMutatequery);\n\n  const data = useLazyLoadQuery<ApprootQuery>(appquery, {});\n  console.log(data);\n\n  return (\n    <React.Suspense fallback={<div>Loading.....</div>}>\n      <App books={data} />\n      <form\n        onSubmit={(e: any) => {\n          e.preventDefault();\n          let sampeBook: bookInput = {\n            title: e.target[0].value,\n            author: {\n              firstname: e.target[1].value,\n              secondname: e.target[2].value,\n            },\n          };\n          let update: ApprootAddBookQuery$variables = {\n            book: sampeBook,\n          };\n          const optimisticResponse = {\n            sampeBook,\n          };\n          commitMutation({\n            variables: update,\n            onCompleted: (response, errors) => {\n              console.log(response);\n              console.log(\"Response received from server.\");\n            },\n            onError: (err) => console.error(err),\n            optimisticResponse,\n          });\n        }}\n        className=\"form\"\n      >\n        <label htmlFor=\"fname\">Book title:</label>\n        <input type=\"text\" id=\"fname\" placeholder=\"Type Book title\" /> <br></br>\n        <label htmlFor=\"fname\">Author FirstName:</label>\n        <input type=\"text\" id=\"fname\" placeholder=\"type author first name\" />\n        <br></br>\n        <label htmlFor=\"fname\">Author LastName:</label>\n        <input type=\"text\" id=\"fname\" placeholder=\"Type author lastname\" />\n        <br></br>\n        <input type=\"submit\" />\n      </form>\n    </React.Suspense>\n  );\n}\n\nexport default Approot;\n"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AAEA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,aAA9C;;AAQA,MAAMC,QAAQ,8WAAd;AAOA,MAAMC,cAAc,saAApB;;AAaA,SAASC,OAAT,GAAmB;EAAA;;EACjB,MAAM,CAACC,cAAD,EAAiBC,UAAjB,IACJL,WAAW,CAAsBE,cAAtB,CADb;EAGA,MAAMI,IAAI,GAAGP,gBAAgB,CAAeE,QAAf,EAAyB,EAAzB,CAA7B;EACAM,OAAO,CAACC,GAAR,CAAYF,IAAZ;EAEA,oBACE,QAAC,KAAD,CAAO,QAAP;IAAgB,QAAQ,eAAE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA1B;IAAA,wBACE,QAAC,GAAD;MAAK,KAAK,EAAEA;IAAZ;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MACE,QAAQ,EAAGG,CAAD,IAAY;QACpBA,CAAC,CAACC,cAAF;QACA,IAAIC,SAAoB,GAAG;UACzBC,KAAK,EAAEH,CAAC,CAACI,MAAF,CAAS,CAAT,EAAYC,KADM;UAEzBC,MAAM,EAAE;YACNC,SAAS,EAAEP,CAAC,CAACI,MAAF,CAAS,CAAT,EAAYC,KADjB;YAENG,UAAU,EAAER,CAAC,CAACI,MAAF,CAAS,CAAT,EAAYC;UAFlB;QAFiB,CAA3B;QAOA,IAAII,MAAqC,GAAG;UAC1CC,IAAI,EAAER;QADoC,CAA5C;QAGA,MAAMS,kBAAkB,GAAG;UACzBT;QADyB,CAA3B;QAGAP,cAAc,CAAC;UACbiB,SAAS,EAAEH,MADE;UAEbI,WAAW,EAAE,CAACC,QAAD,EAAWC,MAAX,KAAsB;YACjCjB,OAAO,CAACC,GAAR,CAAYe,QAAZ;YACAhB,OAAO,CAACC,GAAR,CAAY,gCAAZ;UACD,CALY;UAMbiB,OAAO,EAAGC,GAAD,IAASnB,OAAO,CAACoB,KAAR,CAAcD,GAAd,CANL;UAObN;QAPa,CAAD,CAAd;MASD,CAzBH;MA0BE,SAAS,EAAC,MA1BZ;MAAA,wBA4BE;QAAO,OAAO,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA5BF,eA6BE;QAAO,IAAI,EAAC,MAAZ;QAAmB,EAAE,EAAC,OAAtB;QAA8B,WAAW,EAAC;MAA1C;QAAA;QAAA;QAAA;MAAA,QA7BF,oBA6BiE;QAAA;QAAA;QAAA;MAAA,QA7BjE,eA8BE;QAAO,OAAO,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA9BF,eA+BE;QAAO,IAAI,EAAC,MAAZ;QAAmB,EAAE,EAAC,OAAtB;QAA8B,WAAW,EAAC;MAA1C;QAAA;QAAA;QAAA;MAAA,QA/BF,eAgCE;QAAA;QAAA;QAAA;MAAA,QAhCF,eAiCE;QAAO,OAAO,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAjCF,eAkCE;QAAO,IAAI,EAAC,MAAZ;QAAmB,EAAE,EAAC,OAAtB;QAA8B,WAAW,EAAC;MAA1C;QAAA;QAAA;QAAA;MAAA,QAlCF,eAmCE;QAAA;QAAA;QAAA;MAAA,QAnCF,eAoCE;QAAO,IAAI,EAAC;MAAZ;QAAA;QAAA;QAAA;MAAA,QApCF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA2CD;;GAlDQjB,O;UAELH,W,EAEWD,gB;;;KAJNI,O;AAoDT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}